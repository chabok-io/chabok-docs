---
id: custom-data
title: داده‌های سفارشی کاربر
layout: react-native-bridge
permalink: react-native-bridge/custom-data.html
prev: deeplink.html
next: behavior-tracking.html
---

 در این صفحه می‌توانید برای کاربرانتان **اطلاعات (attributes) و تگ** اضافه کنید. ثبت اطلاعات هر کاربر به تعامل شما با او کمک می‌کند طوری که می‌توانید **پیام‌های شخصی‌سازی شده** برایشان ارسال کنید.

<Br><Br>


### مدیریت اطلاعات کاربر (User Attributes)
---
شما می‌توانید اطلاعات و داده‌هایی که از کاربرانتان دارید را در پروفایل او مدیریت کنید و در تعامل با او از آن‌ها استفاده کنید.

<br>

#### ثبت اطلاعات کاربر 

شما می‌توانید اطلاعاتی که از کاربر دارید (مانند نام، نام خانوادگی، جنسیت، سن و ...) را به طور دلخواه با استفاده از متد زیر، در پروفایل او ثبت کنید:


```javascript
this.chabok.setUserAttributes({
                firstName: 'مهدی',
                lastName: 'یعقوبی',
                age: 19,
                gender: 'مرد',
                birthday: new Date(947808000)
            });
```

پس از فراخوانی این متد و ثبت اطلاعات می‌توانید آن را در **پنل > جزئیات دستگاه > کارت اطلاعات کاربر** مانند زیر مشاهده کنید:

![عکس مربوطه](http://uupload.ir/files/9p2w_set-user-info-2.png)

<br>

>`نکته` : در صورتی که از شماره تلفن در اطلاعات کاربران (Attribute) استفاده کنید، می‌توانید با smart API  چابک اقدام به ارسال پیامک کنید. فقط دقت داشته باشید که شماره همراه کاربر با کد کشور او شروع شود؛ به عنوان مثال ۹۸۹۱۲۰۴۹۸.

>`نکته`:  در صورتی که از آدرس ایمیل (پارامتر email) در اطلاعات کاربران (Attribute) استفاده می‌کنید، می‌توانید با smart API چابک به کاربران ایمیل بزنید. 


> `نکته` : دقت داشته باشید  **type** مقداری که به `value` در متد `setUserAttributes` داده‌اید، را نمی‌توانید تغییر دهید . به این معنی که اگر `boolean` ذخیره کرده‌اید، دیگر **نمی‌توانید** عدد یا `string` دهید یا برعکس. به مثال زیر توجه کنید. 

به عنوان مثال اگر مقدار `age` را مانند زیر `string` قرار داده باشید:

```javascript
this.chabok.setUserAttributes({
                age: 'نوزده'
            });
```

دیگر عدد قرار دادن آن مانند زیر **کار نخواهد کرد:**

```javascript
this.chabok.setUserAttributes({
                age: 19
            });
```

<br>

#### دریافت اطلاعات کاربر

برای دریافت اطلاعت کاربر متد زیر را فراخوانی کنید:

```java
this.chabok.getUserAttributes()
```

>`نکته:` در نسخه‌های ۱.۴.۰ یا پایین‌تر از متد زیر استفاده کنید:

```javascript
this.chabok.setUserInfo({
                firstName: 'مهدی',
                lastName: 'یعقوبی',
                age: 19,
                gender: 'مرد'
            });
```

<br>

#### افزایش داده‌های کمیتی کاربر

شما می‌توانید داده‌های کمیتی کاربر را مانند **بازدید از محصول یا صفحه‌ای، خرید آیتم خاصی** و .. را به تعداد دلخواهتان **افزایش** دهید. برای این کار متد زیر را فراخوانی کنید: 

```javascript
this.chabok.incrementUserAttribute('visit_comedy_shows');
```

<br><br>

### مدیریت تگ‌ها
---

یکی از قوانین سگمنت، **تگ** یا همان **برچسب‌گذاری کاربران** می‌باشد. به عنوان مثال می‌توانید کاربران خود را بر اساس **جنسیت** برچسب‌گذاری کرده و به آن‌ها پیام خاصی را ارسال کنید و یا به کاربرانی که از پرداخت درون برنامه‌ای شما استفاده می‌کنند یک `Tag` با عنوان `Premium_User` اختصاص دهید.

#### افزودن تگ

با استفاده از متد زیر، شما می‌توانید به کاربر فعلی یک `Tag` اختصاص دهید:

```javascript
this.chabok.addTag("Premium_User")
```
اگر هم می‌خواهید به کاربرتان چند `Tag` یکجا اضافه کنید، می‌توانید از کد زیر استفاده کنید:

```javascript
this.chabok.addTags("Premium_User", "Male", "Teenage")
```

همچنین می‌توانید با استفاده از این متد، از افزودن و یا خطا در عملیات با خبر شوید:

```javascript
this.chabok.addTag('TAG_NAME')
    .then(res => {
        alert('This tag was assign to ' + this.chabok.getUserId() + ' user');
        })
    .catch(_ => console.warn("An error happend adding tag ...",_));
```
اگر عملیات افزودن تگ با موفقیت انجام شود، می‌توانید از طریق پنل چابک، تگ اضافه شده به کاربر را در بخش مشترکین همانند تصویر زیر مشاهده کنید:

![مشترک چابک](http://uupload.ir/files/ujp8__1x-ios_device.png)

#### حذف تگ
با استفاده از متد زیر، می‌توانید یک `Tag` خاص از کاربر فعلی را حذف کنید:

```javascript
this.chabok.removeTag("Premium_User")
```

اگر هم می‌خواهید به کاربرتان چند `Tag` یکجا حذف کنید، می‌توانید از کد زیر استفاده کنید:

```javascript
this.chabok.removeTags("Premium_User", "Male", "Teenage")
```

> `نکته:` برای حذف همه تگ‌های یک کاربر می‌توانید در متد بالا، جای نام تگ‌ها را خالی بگذارید.
