---
id: custom-data
title: داده‌های سفارشی کاربر
layout: cordova
permalink: cordova/custom-data.html
prev: tracker.html
next: behavior-tracking.html
---

 در این صفحه می‌توانید برای کاربرانتان **اطلاعات (attributes) و تگ** اضافه کنید. ثبت اطلاعات هر کاربر به تعامل شما با او کمک می‌کند طوری که می‌توانید **پیام‌های شخصی‌سازی شده** برایشان ارسال کنید.

<Br><Br>


### مدیریت اطلاعات کاربر (User Attributes)
---

شما می‌توانید اطلاعات و داده‌هایی که از کاربرانتان دارید را در پروفایل او مدیریت کنید و در تعامل با او از آن‌ها استفاده کنید.

![عکس مربوطه](http://uupload.ir/files/vi3a_user-attributes.png)

<br>

#### ثبت اطلاعات کاربر 


شما می‌توانید اطلاعاتی که از کاربر دارید (مانند نام، نام خانوادگی، جنسیت، سن و ...) را به طور دلخواه با استفاده از متد زیر، در پروفایل او ثبت کنید:

```javascript
const attributes = {
          firstName: 'مهدی',
          lastName: 'یعقوبی',
          age: 19,
          gender: 'مرد'
        }
chabok.setUserAttributes(attributes)
```


پس از فراخوانی این متد و ثبت اطلاعات می‌توانید آن را در **پنل>جزئیات دستگاه>کارت اطلاعات کاربر** مانند زیر مشاهده کنید:

![عکس مربوطه](http://uupload.ir/files/9p2w_set-user-info-2.png)

>`نکته` : در صورتی که از شماره تلفن (پارامتر phone) در اطلاعات کاربران (Attribute) استفاده کنید، می‌توانید با smart API  چابک اقدام به ارسال پیامک کنید. فقط دقت داشته باشید که شماره همراه کاربر با کد کشور او شروع شود؛ به عنوان مثال ۹۸۹۱۲۰۴۹۸.

>`نکته`:  در صورتی که از آدرس ایمیل (پارامتر email) در اطلاعات کاربران (Attribute) استفاده می‌کنید، می‌توانید با smart API چابک به کاربران ایمیل بزنید. 


> `نکته` : دقت داشته باشید  **type** مقداری که به `value` در متد `setUserAttributes` داده‌اید، را نمی‌توانید تغییر دهید . به این معنی که اگر `boolean` ذخیره کرده‌اید، دیگر **نمی‌توانید** عدد یا `string` دهید یا برعکس. به مثال زیر توجه کنید. 

به عنوان مثال اگر مقدار `age` را مانند زیر `string` قرار داده باشید:

```javascript
const attributes = {
          age: 'نوزده'
        }
chabok.setUserAttributes(attributes)
```

دیگر عدد قرار دادن آن مانند زیر **کار نخواهد کرد:**

```javascript
const attributes = {
          age: 19
        }
chabok.setUserAttributes(attributes)
```

<br>

#### ارسال مقادیر آرایه‌ای و تاریخ در داده‌های سفارشی کاربر

```javascript
const attributes = {
    firstname: 'Farbod',
    lastname: 'Ahmadi',
    age: 28,
    married: true,
    birthday: new Date(),
}

chabok.setUserAttributes(attributes)
```

>`نکته:`
از شی `Date` تنها در نسخه **۱.۲.۰ یا بالاتر کتابخانه چابک** استفاده می‌شود.

<br>

####  حذف داده‌های سفارشی کاربران

برای حذف اطلاعات کاربران (attribute)، متد زیر را فراخوانی کنید.

```javascript
chabok.unsetUserAttribute('firstName');
chabok.unsetUserAttribute('age');
```

<br>

#### افزایش داده‌های کمیتی کاربر

شما می‌توانید داده‌های کمیتی کاربر را مانند **بازدید از محصول یا صفحه‌ای، خرید آیتم خاصی** و .. را به تعداد دلخواهتان **افزایش** دهید. برای این کار متد زیر را فراخوانی کنید: 

```javascript
chabok.incrementUserAttribute('comedy_movie')
chabok.incrementUserAttribute('comedy_movie', 3)
```

<br>

#### کاهش داده‌های کمیتی کاربر

شما می‌توانید داده‌های کمیتی کاربر را مانند **سایز** به تعداد دلخواهتان **کاهش** دهید. برای این کار متد زیر را فراخوانی کنید: 

```javascript
chabok.decrementUserAttribute('waist_size')
chabok.decrementUserAttribute('waist_size', 3)
```

<br>

### مدیریت تگ‌ها
---

یکی از قوانین سگمنت، **تگ** یا همان **برچسب‌گذاری کاربران** می‌باشد. به عنوان مثال می‌توانید کاربران خود را بر اساس **جنسیت** برچسب‌گذاری کرده و به آن‌ها پیام خاصی را ارسال کنید و یا به کاربرانی که از پرداخت درون برنامه‌ای شما استفاده می‌کنند یک `Tag` با عنوان `Premium_User` اختصاص دهید.

#### افزودن تگ

با استفاده از متد زیر، شما می‌توانید به کاربر فعلی یک `Tag` اختصاص دهید:

```javascript
chabok.addTag("Premium_User")
```

اگر عملیات افزودن تگ با موفقیت انجام شود، می‌توانید از طریق پنل چابک، تگ اضافه شده به کاربر را در بخش مشترکین همانند تصویر زیر مشاهده کنید:

![مشترک چابک](http://uupload.ir/files/ujp8__1x-ios_device.png)

#### حذف تگ

با استفاده از متد زیر، می‌توانید یک `Tag` خاص از کاربر فعلی را حذف کنید:

```javascript
chabok.removeTag("Premium_User")
```
