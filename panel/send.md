---
id: send
title: ایجاد کمپین
layout: panel
permalink: panel/send.html
prev: inbox.html
next: settings.html
---

این بخش به شما امکان می‌دهد با کاربرانتان ارتباط برقرار کنید و برای آن‌ها **کمپین** ارسال کنید. شما می‌توانید کمپین‌هایتان را با استفاده از قابلیت‌هایی مثل **گروه‌بندی پیشرفته** (Segmentation)، **تعیین زمان** برای ارسال **خودکار** کمپین، بررسی **پیش‌نمایش پیام**، پوش براساس **موقعیت مکانی** و ... **هدفمند** کنید.

<Br>

#### سیاست ارسال

پیام‌رسانی چابک از **۳** طریق انجام می‌شود.  روش اول ارسال **پوش‌نوتیفیکیشن** است که با توجه به پلتفرم، از سرویس‌های مخصوص به خود استفاده می‌شود (مثلا برای اندروید از GCM/FCM).  روش دوم پیام‌رسانی مخصوص به چابک است که از کانال‌های خود برای ارسال پیام استفاده می‌کند. این نوع پیام‌رسانی را استفاده از **صندوق پیام چابک** می‌گوییم. روش سوم ارسال از از طریق پیامک (SMS) است. شما می‌توانید با توجه به نیاز خود و همچنین پلن حسابتان هر کدام از این روش‌ها را برای ارسال کمپین‌هایتان انتخاب کنید.

##### تفاوت صندوق پیام با پوش‌نوتیفیکیشن
 .صندوق پیام به طور مستقل از طریق سوکت و کانال‌های چابک ارسال می‌شود 
در صورتی گزینه **صندوق پیام چابک** انتخاب شود، چابک به طور **هوشمند** از هر دو روش (صندوق پیام چابک و پوش‌نوتیفیکیشن) برای ارسال کمپین استفاده می‌کند. به این ترتیب که اگر اپلیکیشن روی دستگاه کاربر **باز** باشد، **پیام چابک** ارسال می‌شود و اگر اپلیکیشن **بسته** باشد، یک **نوتیفیکیشن** برای آوردن کاربر به اپلیکیشن استفاده می‌شود. 

![عکس مربوطه](http://uupload.ir/files/l1ww_sending-policy.png)

#### مخاطبان پیام (User targeting)

در این قسمت شما می‌توانید مخطبان پیامتان را به ۵ روش انتخاب کنید. این روش‌ها عبارتند از **سگمنت**، **فیلتر**، **کانال**، **خصوصی** و **از فایل**:

##### سگمنت

 سگمنت یا **گروه‌بندی پیشرفته** به شما این امکان را می‌دهد تا مخاطبان پیامتان را با ترکیب فیلتر‌های متعدد چابک گروه‌بندی کنید و هر کدام را با نام دلخواهتان ذخیره کنید. این سگمنت‌ها براساس معیارهای **عمومی** (تگ، دسترسی نوتیفیکیشن و موقعیت مکانی)، **بازدید**، **فناوری** و **کانال جذب**، **اطلاعات کاربر** و **رفتار کاربر** ایجاد شده‌اند.

> ‍‍‍`نکته:` برای آشنایی بیشتر با تعیین و رصد این رفتارها صفحه **رصد رفتار درون‌برنامه‌ای** را در مستندات ([اندروید](https://doc.chabokpush.com/android/event-tracking.html)، [آی‌اواس](https://doc.chabokpush.com/ios/event-tracking.html) و [وب](https://doc.chabokpush.com/javascript/event-tracking.html))  مطالعه نمایید.

برای مشاهده ایجاد یک نمونه سگمنت می‌توانید [راهنمای ایجاد سگمنت](https://doc.chabokpush.com/panel/building-a-new-segment.html) را مطالعه کنید.

![عکس مربوطه](http://uupload.ir/files/wr00_segment-send.png)

<Br>

##### فیلتر

در این قسمت چابک به طور پیش‌فرض پنج فیلتر را برای دریافت پیام توسط کاربران قرار داده است. فیلتر‌های **تاریخ عضویت**، **دفعات باز کردن اپلیکیشن**، **آخرین حضور کاربر در اپلیکیشن**، **نوع پلتفرم یا نسخه آن** و **محدوده مکانی**  همگی قابل اعمال هستند.

![عکس مربوطه](http://uupload.ir/files/kw02_fksb_filter.png)

<Br>

##### کانال

 اگر می‌خواهید یک **پیام عمومی** را برای تمام اعضای یک کانال ارسال کنید، در این قسمت کانال مورد نظرتون را انتخاب کنید و پیامتان را منتشر کنید.

##### خصوصی

 در این قسمت می‌توانید پیام **شخصی‌سازی شده** برای **یک کاربر** به خصوص بفرستید؛ فقط کافیه پس از انتخاب کانال ارسالی، **شناسه** آن کاربر را وارد نمایید.

##### از فایل

این گزینه برای آپلود **شناسه‌های کاربرانتان** از طریق فایل CSV است. این بخش به شما کمک می‌کند تا با توجه به اطلاعاتی که در دیتابیس خود از کاربرانتان دارید، گیرندگان پیام را **به دلخواه** انتخاب کنید و به آن‌ها پوش بفرستید.

نمونه فایلی که در این بخش باید آپلود کنید:

![عکس مربوطه](http://uupload.ir/files/ujmr_file-example2.png)

سپس فایل مورد نظر را با فرمت CSV مانند زیر ذخیره کنید:

![عکس مربوطه](http://uupload.ir/files/6k8b_save-as-csv.png)

>`نکته:` دقت داشته باشید که فایل CSV شما به صورت **CRLF** باشد. همچنین فرمت‌های (CSV (Macintosh و (CSV UTF-8 (Comma delimited پشتیبانی **نمی‌شوند**.

با داشتن فایل، آن را در بخش **گیرندگان** می‌توانید آپلود کنید:

![عکس مربوطه](http://uupload.ir/files/a9sf_by-file.png)

<Br>

#### محتوای پیام

در این قسمت شما **محتوای** پیام (عنوان و محتوا) خود را می‌نویسید و پس از آن می‌توانید با پیش‌نمایش **اندروید**، **آی‌اواس** و **وب** آن را قبل از ارسال بررسی نهایی کنید.

![عکس مربوطه](http://uupload.ir/files/kk3x_campaign-content.png)

در صورتی که می‌خواهید متن پیام برای متن نوتیفیکیشن هم قرار بگیرد، گزینه **متن اعلان با متن پیام یکی باشد** را روشن کنید.

<Br>

#### نوتیفیکیشن پیشرفته (Rich Notification)

در این قسمت می‌توانید نوتیفیکیشن چند رسانه‌ای (**Rich Notification**) شامل تصویر، آیکون، دکمه،‌ لینک مقصد و ... ارسال کنید. 

![عکس مربوطه](http://uupload.ir/files/n5k6_rich-push.png)

##### تصویر

در اینجا می‌توانید تصویری که می‌خواهید برای نوتیفیکیشن قرار دهید را آپلود کنید.

>‍‍‍‍‍` نکته:` دقت داشته باشید تصویری که برای **اندرویدی‌ها** استفاده می‌کنید از ویژگی‌های زیر برخوردار باشد:
>
>- Ratio: 2.1 (سعی کنید محتوای اصلی 43:24 (~1.79) باشد زیرا بعضی دستگاه‌ها بیشتر از این مقدار را نشان نمی‌دهند)
>
>- Resolution (محدودیتی ندارید اما توصیه می‌کنیم از ابعاد زیر استفاده کنید):
>
> حداقل- 512x256
>
> متعادل- 1440x720
>
> حداکثر- 2880x1440

##### دکمه‌های نوتیفیکیشن

در این قسمت می‌توانید برای نوتیفیکیشن، دکمه (اکشن) بگذارید.

 فقط کافی است **شناسه** و **عنوان** دکمه را وارد کنید. علاوه بر آن در **آی‌اواس** می‌توانید نوع دکمه را مشخص کنید:

- دکمه‌ای که برای آن باید حتما قفل دستگاه باز باشد. 

- دکمه‌ای که برای آن باید اپلیکیشن باز باشد. 

- دکمه‌ای که برای آن متن قرمز شود. این گزینه برای اعمالی است که نیاز به هشدار دارند. به عنوان مثال لغو سفارش، خروج از حساب یا حذف حساب و ... .

همچنین در اندروید می‌توانید برای دکمه‌های نوتیفیکیشن **آیکون** بگذارید.

##### تنظیمات پلتفرم‌ها

در هر کدام از پلتفرم‌های اندروید، آی‌اواس و وب می‌توانید تنظیماتی را روی نوتیفیکیشن قرار دهید.

**اندروید**: از اینجا رنگ LED گوشی را در هنگام دریافت نوتیفیکیشن انتخاب کنید و آیکون کوچک و بزرگ در نوتیفیکیشن بگذارید.

**آی‌اواس**: از اینجا با وارد کردن نام دسته (category) نوتیفیکیشن، می‌توانید **دکمه‌ها و به طور کلی قالب نوتیفیکیشن** را مانند نوتیفیکیشن‌های از قبل ذخیره شده (مربوط به این دسته) قرار دهید.

>`نکته:` در آی‌اواس برای اینکه خودتان نمایش نوتیفیکیشن را بر عهده بگیرید (استفاده از **Notification Content Extension**) باید **نام دسته (category)** مورد نظر را در اینجا قرار دهید.

**وب**: از اینجا می‌توانید آیکون و لینک مقصد در صورت کلیک روی نوتیفیکیشن بگذارید.

<img src="http://uupload.ir/files/wvj7_rich-notification-panel.png" alt="Its You" height="600px" width="400px">

##### گروه‌بندی نوتیفیکیشن (collapse_key/thread_id)

از این طریق می‌توانید نوتیفیکیشن‌های خود را گروه‌بندی کنید تا در صورت دریافت بیش از یک عدد به جای زیر هم نمایش داده شدن به طور جداگانه، نوتیفیکیشن‌های مربوط جمع شوند (collapse).

##### لینک مقصد

 در این قسمت تعیین می‌کنید کلیک روی نوتیفیکیشن به چه مقصدی هدایت شود. 

>`نکته:` در لینک مقصد می توانید از دیپ لینک هم برای اندروید و آی‌اواس استفاده کنید.


<Br>

#### تعیین زمان ارسال (Scheduled Push)

در این قسمت شما می‌توانید برای پیام‌های متنی خود **زمان ارسال** تعیین کنید. بسته به نوع پیامتان قادر خواهید بود، زمان ارسال خود را در حال حاضر (**هم‌اکنون**)، یک زمان خاص (**زمان‌بندی شده**)، یک بازه زمانی برای تکرار آن (**تکرار شونده**) و یا به صورت **خودکار** تعیین کنید.

![عکس مربوطه](http://uupload.ir/files/zq13_scheduledpush.png)

<Br>

##### هوشمند
ارسال هوشمند چابک به شما امکان می‌دهد تا به هر کاربر، در زمانی که **بیشترین استفاده را از اپلیکیشنتان دارد** پوش بفرستید. 

علاوه بر آن شما می‌توانید تعیین کنید که **محدوده ساعات ارسالی پوش بین چه ساعت‌هایی باشد**. در این صورت اگر زمان پر کاربرد کاربر درون این محدوده باشد در همان ساعت ارسال می‌شود و اگر خارج آن قرار بگیرد، چابک خودش به طور هوشمند در محدوده انتخابی شما پوش را ارسال می‌کند.


>`نکته:` قابلیت ارسال هوشمند به طور پیش‌فرض در پنل غیر فعال است و برای استفاده از آن باید به طور اختصاصی درخواست دهید.
<Br>

##### پوش خودکار (Automated Push)

یکی از گزینه‌های زمان ارسال، گزینه **خودکار** است که به شما امکان می‌دهد تا **براساس یک رویداد**، پوش خود را کار بگذارید. برای استفاده از پوش خودکار کافی است نام **رویداد فعال کننده** پوش را وارد کنید، سپس زمانبندی آن را مشخص نمایید. زمانبندی را می‌توانید براساس روزهای هفته تعیین کنید که پوش شما فقط در آن زمان‌ها **فعال** باشد. پس از آن باید محدودیت تعداد ارسال پوش را در زمان مشخص معین کنید.

همینطور می‌توانید برای پوش خودکار خود **تاخیر** (Delay) بگذارید. این تاخیر می‌تواند همراه با یک رویداد لغو کننده باشد. مثلا شما می‌خواهید برای کاربرانی که به سبد خرید خود محصولی را اضافه کرد‌ه‌اند اما خرید را نهایی نکردند پوش خودکار بفرستید. در این صورت زمان دلخواه تاخیر ارسال با رویداد متوقف کننده **خرید** را مشخص می‌کنید. 

> ‍‍‍`نکته:` برای آشنایی بیشتر با تعیین و رصد این رفتارها صفحه **رصد رفتار درون‌برنامه‌ای** را در مستندات ([اندروید](https://doc.chabokpush.com/android/event-tracking.html)، [آی‌اواس](https://doc.chabokpush.com/ios/event-tracking.html) و [وب](https://doc.chabokpush.com/javascript/event-tracking.html))  مطالعه نمایید.

در آخر هم می‌توانید گزینه **براساس دستگاه** را برای متوقف شدن پوش در صورت وقوع رویداد پایانی روی همان دستگاهی که رویداد اول رخ داده است، روشن کنید. همینطور گزینه **لغو در صورت خروج از سگمنت** را هم می‌توانید برای لغو پوش برای کاربرانی که از سگمنت تعیین شده خارج شده‌اند استفاده کنید.

![عکس مربوطه](http://uupload.ir/files/51qi_autopush.png)

<Br>

##### پوش خودکار در صورت رخ ندادن یک رویداد

از تاخیر می‌توانید برای **خودکارسازی ارسال پوش برای کاربرانی که مدتی است رویدادی را انجام  نداده‌اند** هم استفاده کنید. به این ترتیب که شما یک رویدادی را (مثلا خرید) انتخاب می‌کنید تا در صورتی  که کاربران بیش از ۷ روز آن را انجام ندهند، پوش ارسال شود. برای فعال‌سازی کافی‌ است رویداد فعال کننده را خرید بگذارید و با تاخیر ۷ روز، رویداد متوقف کننده را هم خرید قرار دهید. 

![عکس مربوطه](http://uupload.ir/files/e1ef_autopush-if-event-didnt-occur.png)

<Br>

#### نحوه تحویل پیام

در قسمت **سیاست تحویل**، شما تعیین می‌کنید که کاربر در چه موقعیتی پیامتان را دریافت کند. چابک ۳ شرایط از پیش تعیین شده (**درون برنامه‌ای**، **زنده**، **بدون اعلان**) را برای این هدف قرار داده است. برای آسانی کار توضیح هر شرایط در جلوی آن نوشته شده است.

سیاست **درون برنامه‌ای**:‌ پیام زمانی که اپ روی دستگاه کاربر باز است دریافت می‌شود.

سیاست **زنده**: پیام فقط در صورت باز بودن اپ در لحظه ارسال دریافت می‌شود. در صورتی که اپ باز نباشد اما اینترنت دستگاه کاربر وصل باشد اعلان پیام دریافت خواهد شد.

سیاست **بدون اعلان**: پیام بدون اعلان دریافت می‌شود. 

![عکس مربوطه](http://uupload.ir/files/1s3n_receiving-policy.png)

<Br>

#### پیام جایگزین

در قسمت آخر هم یکی از ویژگی‌های منحصر به فرد چابک قرار گرفته که همان **پیام جایگزین** است. به این ترتیب که شما می‌توانید در صورت نرسیدن پیامتان به هر دلیلی، یک **پیامک خودکار** ارسال کنید و فرصت تعامل با او را از دست ندهید. از این ویژگی می‌توانید در **پیام‌های خصوصی** خود بهره ببرید. 

![عکس مربوطه](http://uupload.ir/files/8koh_sms.png)
