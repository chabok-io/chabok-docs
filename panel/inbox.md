---
id: inbox
title: پیام‌ها
layout: panel
permalink: panel/inbox.html
prev: send.html
next: settings.html
---

تب پیام‌ها به طور کلی برای **مدیریت پیام‌رسانی** است. شما می‌توانید **کمپین** طراحی و ارسال کنید. در ارسال کمپین با چابک  شما از امکانات متنوع و کاربردی برخوردار هستید؛ طوری که می‌توانید کمپین خود را هر موقع خواستید فعال کنید یا آن را براساس **رفتار کاربران و یا محدوده مکانی** **خودکارسازی** کنید (Geo Fencing & Automated Push). پس از آن می‌توانید با آمار **لحظه‌ای** از **بازخورد کامل** کمپین‌هایتان آگاه شوید. 

<Br>

>` نکته:` عددی که روی تب پیام‌ها در منوی پنل مشاهده می‌کنید نشان دهنده **پیام‌های امروز** شما است.

<Br>

### کمپین‌ها
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین ارسال کنید. علاوه بر آن، می‌توانید با **رویداد جدید** داده بین سرور و کلاینت انتقال دهید.

پس از آن، لیست کمپین‌های شما به ترتیب ارسال و با جزئیات **نوع پیام** (سیاست ارسال)، **زمان دقیق** درخواست ارسال، **کانال‌های** گیرنده، **وضعیت تحویل** پیام (نوار سبز تحویل و زرد به معنای در انتظار تحویل است) و **متن** پیام قابل مشاهده است.

![عکس مربوطه](http://uupload.ir/files/thtt_inbox-campaigns1.png)

<Br>

#### کمپین جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.

#### رویداد جدید 

رویدادها می‌توانند هر گونه **انتقال داده بین سرور و کلاینت** باشند. برای مثال، فرض کنید شما در اپلیکیشن درخواست تاکسی می‌خواهید سفر خود را با دوستانتان به اشتراک بگذارید. برای این منظور می‌توانید موقعیت مکانی و وضعیت سفر خود را برای کسانی که روی آن رویداد عضویت دارند، ارسال کنید تا به صورت آنی‌ (Real-Time) از وضعیت سفر شما مطلع شوند. یا مثلا یک اپلیکیشن نمایش قیمت‌ ارز به صورت لحظه‌ای دارید و می‌خواهید قیمت‌ها را به محض تغییر آن‌ها عوض کنید. 

در این قسمت شما می‌توانید با وارد کردن **نام** رویدادی که کاربران خود را روی آن **عضو** کرده‌اید، داده‌ای را ارسال کنید. همینطور می‌توانید شناسه دستگاهی را که با آن ارسال می‌کنید مشخص کنید.  

![عکس مربوطه](http://uupload.ir/files/4q95_sendevents.png)

<Br>

#### جزئیات کمپین‌ها

در لیست کمپین‌ها با کلیک روی هرکدام از آن‌ها می‌توانید وارد جزئیاتشان شوید. آمار و جزئیات کمپین‌ها بلافاصله پس از ارسال کمپین فعال می‌شوند و به صورت **لحظه‌ای** به روز رسانی خواهند شد. این جزئیات شامل جزئیات کمپین (مانند محتوا، نوع ارسال، زمان ایجاد و ...)، آمار ارسال (تعداد و روند تحویل پیام و نوتیفیکیشن‌ها) و **آمار بازخورد** (بازخورد نوتیفیکیشن، رویداد‌های تاثیر پذیرفته و درآمد از هر کدام) است.

![عکس مربوطه](http://uupload.ir/files/v2ok_campaign-analytics.png)

<br>

##### بازخورد کمپین‌ها

همان طور که در نمونه بالا مشاهده می‌کنید در گرفتن بازخورد از کمپینٰ‌ها، شما می‌توانید آگاه شوید که **چه تعدادی** از کاربران اولا کمپین را **دریافت** کرده‌اند و در مرحله بعد چه نوع **تعاملی** داشته‌اند. 

>` نکته:` در تعامل با کمپین (به صورت نوتیفیکیشن) کاربر می‌تواند ۳ نوع واکنش نشان دهد. به این ترتیب که یا روی نوتیفیکیشن کلیک کند و وارد اپلیکیشن شود، یا نوتیفیکیشن را رد کند (dismiss) و یا روی یکی از دکمه‌هایی که قرار داد‌ه‌اید (actions) کلیک کند و وارد صفحه‌ خاصی از اپلیکیشن شود. همه این‌ها در نمودار **بازخورد نوتیفیکیشن** قابل مشاهده است.

##### رفتارهای تاثیر پذیرفته از کمپین
چابک به طور خودکار تا **۱۲ ساعت پس از دریافت کمپین**، رفتار کاربر را رصد می‌کند تا از هرگونه تاثیر کمپین، شما را آگاه کند. بنابراین رویداد‌هایی که در این صفحه مشاهده می‌کنید (مانند Purchase در نمونه بالا) در واقع آن‌هایی هستند که از کمپین شما به صورت مستقیم یا غیر مستقیم تاثیر گرفته‌اند. 

- **مستقیم**: کاربرانی که با دیدن کمپین شما مستقیما روی آن کلیک کرده‌اند و رویداد مورد نظر را انجام داده‌اند.

- **غیر مستقیم**: کاربرانی که تعامل مستقیم با کمپین نداشته‌ (پس از دریافت کمپین آن را رد کرده‌ یا وارد اپلیکیشن شده و بدون انجام کاری خارج شده است) اما تا ۱۲ ساعت بعد رویداد مورد نظر را انجام داده‌اند.

<Br><Br>

### کمپین‌های خودکار
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین خودکار را فعال کنید. 

پس از آن، آمار تحویل آن‌ها را به ترتیب ارسال با جزئیات مشاهده کنید و همچنین هر کدام از آن‌ها را **غیر فعال** نمایید. در این لیست می‌توانید  نام کمپین، **زمان ایجاد**،‌ گیرنده،‌ **وضعیت تحویل** و متن پیام را مشاهده کنید. 

![عکس مربوطه](http://uupload.ir/files/p987_automated-push.png)

<Br>

#### کمپین جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.

#### جزئیات کمپین‌های خودکار  

پس از فعال کردن کمپین خودکار، می‌توانید جزئیات آن را مانند گیرندگان، تحویل‌های پیام و نوتیفیکیشن، رویداد شروع کننده و متوقف کننده (در صورت تعیین آن) و ... مشاهده کنید.  

![عکس مربوطه](http://uupload.ir/files/r39m_autopush-details.png)

<Br><Br>

### کمپین‌های خودکار مکانی
---

در ابتدا می‌توانید با کلیک روی **کمپین خودکار مکانی جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین خودکار را فعال کنید. 

پس از آن، آمار تحویل آن‌ها را به ترتیب ارسال با جزئیات مشاهده کنید و همچنین هر کدام از آن‌ها را **غیر فعال** نمایید. در این لیست می‌توانید  نام کمپین، **زمان ایجاد**،‌ گیرنده،‌ **وضعیت تحویل** و متن پیام را مشاهده کنید. 

![عکس مربوطه](http://uupload.ir/files/e14q_geo-fence.png)

#### کمپین خودکار مکانی جدید 

یکی دیگر از قابلیت‌های جالب توجه چابک، **پوش خودکار مکانی** است. این قابلیت به شما امکان می‌دهد تا پوشی را با تعیین یک **محدوده مکانی خاصی** کار بگذارید تا به صورت خودکار با **وارد و خارج شدن** کاربر به آن محدوده، پوش فرستاده شود. شما می‌توانید پس از پر کردن جزئیات پیام و تعیین محدوده هر کدام از پوش‌هایتان را ذخیره کنید و وضعیت آن‌ها را مشاهده نمایید.

![عکس مربوطه](http://uupload.ir/files/mpl6_new-geofence.png)

#### جزئیات کمپین خودکار مکانی

پس از فعال کردن پوش‌ خودکار مکانی، می‌توانید اولا آن را **ویرایش** کنید، دوما آمار پوش‌هایی که ارسال شده است را مشاهده کنید.

![عکس مربوطه](http://uupload.ir/files/k96r_geo-fence-details.png)

<Br><Br>

### پیام‌ها
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین ارسال کنید. 

پس از آن، این قسمت پیام‌های ارسالی شما را به **هر کاربر** به صورت جدا نمایش می‌دهد. از طریق لیست پیام‌ها می‌توانید **وضعیت پیام و نوتیفیکیشن، زمان ارسال و تحویل، کاربر (شناسه کاربر) و متن پیام** را مشاهده کنید.

![عکس مربوطه](http://uupload.ir/files/i7qb_yi1_z1nl_inbox-list.png)

<Br>

#### پیام جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.


#### آمار پیام‌ها

با ورود به هر یک از پیام‌ها می‌توانید جزئیات پیامتان را در ۴ باکس مشاهده کنید. باکس جزئیات پیام **تاریخ و زمان ارسال، گیرنده، کانال و شناسه رهگیری** را نشان می‌دهد. باکس **محتوای** پیام که شامل **متن پیام و اعلان** مربوط به آن است. باکس‌های **اعلان‌ها و تحویل پیام** هم آمار تحویل نوتیفیکیشن و پیام را به شما انتقال می‌دهند.

![عکس مربوطه](http://uupload.ir/files/dgi_x9bn_inbox-analytics.png)

<Br><Br>

#### نمادها
---

در بخش پیام‌ها، نمادهایی برای نمایش وضعیت تحویل آن‌ها به کار برده شده‌اند. برای اطلاع از معانی هریک از نمادها به تصویر و متن زیر دقت نمایید.

- نمادهای کمپین:

![عکس مربوطه](http://uupload.ir/files/k4fg_campaigns.png)

<Br>

۱- به طور کلی نماد سمت راست در نوع کمپین نشان دهنده **زمان ارسال** است. زمان ارسال **هم‌اکنون** انتخاب شده است.

۲- به طور کلی نماد سمت چپ در نوع کمپین نشان دهنده **سیاست ارسال** است. کمپین از طریق **پوش‌نوتیفیکیشن** ارسال شده است.

۳- کمپین **زمان‌بندی شده** است.

۴- کمپین از طریق **صندوق پیام جابک** ارسال شده است.

۵- مخاطب کمپین **یک کاربر** است.

۶- کمپین **تکرار شونده** است.

- نمادهای پیام:

![عکس مربوطه](http://uupload.ir/files/gvvx_messages-symbols.png)

<Br>

۱- **پیام چابک** با موفقیت ارسال شده است.

۲- **نوتیفیکیشن آی‌اواس** با موفقیت ارسال شده است.

۳-  پیام **در انتظار** ارسال است. به طور کلی پیام چابک به محض باز شدن اپلیکیشن تحویل داده می‌شود؛ بنابراین زمانی که پیام ارسال می‌کنید درصف قرار می‌گیرد (حداکثر تا ۳۰ روز) تا کاربر وارد اپلیکیشن شود.

۴- **نوتیفیکیشن اندروید** با موفقیت ارسال شده است.

۵- **پیام زنده** ( برای پیام زنده گزارش وضعیت انجام نمی‌شود) است.

۶- **[خطا در ارسال پیام](/panel/inbox.html#جدول-خطاها)** 

۷-  **وب‌پوش** با موفقیت ارسال شده است.

۸- اپ باز بوده و نیازی به ارسال نوتیفیکیشن نبوده است.

۹- خطای ارسال نوتیفیکیشن در اندروید ([عیب‌یابی](/android/troubleshoot.html#پوش-نمیگیرم))

۱۰- خطای ارسال نوتیفیکیشن در آی‌اواس ([عیب‌یابی](/ios/troubleshoot.html#پوش-نمیگیرم))


#### خطاها

گاهی ممکن است در ارسال پیام با **خطا** مواجه شوید. هر یک از خطاها گویای مشکل خاصی هستند که شما برای ارسال موفق باید آن‌ها را برطرف کنید. برای آشنایی با معانی خطاهای ارسال پیام در پنل، قسمت زیر را مطالعه کنید:

![عکس مربوطه](http://uupload.ir/files/c8po_e8z3_devicenotfound.png)

<Br>

این خطاها برای نوتیفیکیشن در **جزئیات** هر پیام قابل مشاهده‌اند.

<Br>

![عکس مربوطه](http://uupload.ir/files/in0d_mismatchsenderid.png)

<Br>

##### جدول خطاها

برای آشنایی و رفع خطاهای ارسال پیام، جدول زیر را مشاهده کنید:

|                خطا              |                                                  موضوع             |                                                                                                                                          توضیح                                                                                 |
| :----------------------------------------------------------------:|-----------------------------------------------------------------:|---------------------------------------------------------------------------------------------------------------------------------------------: |
|     **Device not found**        |                                           عدم وجود دستگاه مورد نظر | از ثبت شدن کاربر در چابک و اضافه شدن او در مشترکین پنل اطمینان یابید. همینطور صحت شناسه کاربری (`userId`) مخاطب را در ارسال پیام بررسی کنید. |
|  **Subscription not found**     |                                           عدم عضویت کاربر در کانال |                                                                                          از عضو بودن مخاطب پیام در کانال ارسالی اطمینان یابید. |
|   **INVALID-SENDER-ID**         | عدم تطابق تنظیمات پوش‌نوتفیکیشن APN یا GCM/FCM با تنظیمات اپلیکیشن  |                                                                                                                         برای اندروید و آی‌اواس |
|  **DeviceTokenNotForTopic**     |                                         عدم تطابق توکن با شناسه اپ |                                                                                                                                  مخصوص آی‌اواس |
|     **MismatchSenderId**        |                                    عدم تطابق `senderId` اپ و پنل   |                                                                                                                                  مخصوص اندروید |
|**GONE**/ **Device_Unregistered**|                                            حذف اپلیکیشن توسط کاربر |                                                                                                                                             \- |
|   **Not Registered**            |                                            حذف اپلیکیشن توسط کاربر |                                                                                                                                             \- |
|      **BadDeviceToken**         |          نامعتبر بودن توکن دستگاه مورد نظر یا استفاده از Simulator |       از توکن مورد نظر و [تطابق آن با محیط (sandbox یا production **اپل**) اطمینان یابید](/ios/troubleshoot.html#%DB%B8--%D8%B3%D9%88%D8%A6%DB%8C%DA%86-%D8%B3%D8%B1%D9%88%D8%B1-%D8%B9%D9%85%D9%84%DB%8C%D8%A7%D8%AA%DB%8C-%D8%A7%D9%BE%D9%84-%D8%B1%D8%A7-%D8%AF%D8%B1-%D9%BE%D9%86%D9%84-%D8%A8%D9%87-%D8%AF%D8%B1%D8%B3%D8%AA%DB%8C-%D8%AA%D9%86%D8%B8%DB%8C%D9%85-%DA%A9%D9%86%DB%8C%D8%AF). همچنین به طور کلی پوش‌ روی Simulator آی‌او‌اس دریافت نمی‌شود. |
|         **BadTopic**            |                                 نامعتبر بودن شناسه اپ (`bundleId`) |                                                                                                                                             \- |
|      **TopicDisallowed**        |                    امکان پوش روی شناسه اپلیکیشن مورد نظر مجاز نیست |                                                                                                                                             \- |
|      **BadCertificate**         |                                             نامعتبر بودن گواهی اپل |                                                              از گواهی که در تنظیمات ارسال نوتیفیکیشن سرور اپل (APNs) قرار دادید اطمینان یابید. |
| **BadCertificateEnvironment**   |                عدم تطابق گواهی اپل با محیط (sandbox یا production) |                                                                                                                                             \- |
|   **ExpiredProviderToken**      |                                                     منقضی شدن توکن |                                                                       در صورتی که از روش PEM استفاده کردید، توکن شما پس از یکسال منقضی می‌شود. 
