---
id: troubleshoot
title: عیب یابی جاوا اسکریپت
layout: javascript
permalink: javascript/troubleshoot.html
prev: features.html
next: release-note.html
---

در این صفحه به عیب‌یابی مشکلات متداول توسعه‌دهندگان در پیاده‌سازی چابک و ارائه راه‌‌حل‌های مربوط به آن می‌پردازیم. برخی از این مشکلات عبارتند از عدم [دریافت پوش‌نوتیفیکیشن](/javascript/troubleshoot.html#پوش-نمیگیرم)، [نمایش نوتیفیکیشن](/javascript/troubleshoot.html#نوتیفیکیشنها-نمایش-داده-نمیشوند) و [نمایش تصویر نوتیفیکیشن](#تصویر-نوتیفیکیشن-نمایش-داده-نمیشود).

<Br>

## پوش نمی‌گیرم
---

یکی از مشکلات متداولی که توسعه‌دهندگان پس از نصب چابک با آن مواجه می‌شوند،‌ **عدم دریافت پیام** (هم پیام چابک و هم پوش‌نوتیفیشکن) است. این مشکل معمولا به راه‌اندازی ناقص یا غیر صحیح چابک برمی‌گردد.

- #### مرورگر باز است و پوش نمی‌گیرم:

##### ۱- از ثبت موفق دستگاه کاربر اطمینان یابید

در صورتی که شما دستگاه را با `userId` که ثبت کردید در بخش مشترکین پنل مشاهده نکردید به نکات زیر توجه فرمایید:

الف- **وی‌پی‌ان دستگاه حتما خاموش باشد**.

ب- **تعیین درست محیط چابک** (آزمایشی و عملیاتی) در [مقداردهی اولیه](/javascript/sdk-setup.html#۲--مقداردهی-اولیه-initialize)

پ-**وارد کردن صحیح اطلاعات حساب** (`appId`, `apiKey`, `username`, `password`) در مقداردهی اولیه


پس از بررسی نکات بالا دستگاه شما باید در بخش مشترکین پنل آمده باشد. 

##### ۲- کاربر حتما در کانال ارسالی شما عضو باشد

در صورت مشاهده دستگاه کاربر در بخش مشترکین پنل، از عضویت کاربر در کانالی که با آن پیام خود را ارسال می‌کنید اطمینان یابید. برای اینکه کانال‌هایی که کاربرتان در آن‌ها عضو هستند را مشاهده می‌کنید، می‌توانید روی آیکون ![کانال‌ها](http://uupload.ir/files/24jn_channels.png) در کارت هر دستگاه در بخش مشترکین پنل کلیک کنید. علاوه بر آن شما می‌توانید از اتصال یا عدم اتصال دستگاه از مشاهده **نوار سبز رنگ** در بالای کارت مطلع شوید.

![کانال‌ها](http://uupload.ir/files/avly_test.png
)

##### ۳- اطلاعات حساب خود را با دقت وارد کنید (خطای internal server error)

در صورت دریافت خطای فوق در **console** از وارد کردن اطلاعات حساب (`appId`, `APIKey`, `username`, `password`) خود اطمینان یابید.

- #### مرورگر بسته است و پوش نمی‌گیرم: 

درصورتی که شما [Service Worker را به پروژه خود اضافه کرده باشید](/javascript/sdk-setup.html#افزودن-service-worker) می‌توانید وب پوش را در حالت بسته یا پس‌زمینه بودن مرورگر هم دریافت کنید. 

##### ۴- از مراحل ثبت موفق دستگاه و عضویت در کانال ارسال مانند بالا اطمینان یابید

در ابتدا از انجام صحیح مراحل اول و دوم در بالا یعنی ثبت موفق کاربر و عضویت در کانال ارسالی اطمینان یابید.

##### ۵- تنظیمات وب‌ پوش خود را چک کنید

از وارد کردن صحیح اطلاعات دسترسی پوش‌نوتیفیکیشن در هر پلتفرم از [بخش تنظیمات پنل قسمت پلتفرم‌ها](https://doc.chabok.io/panel/settings.html#%D9%BE%D9%84%D8%AA%D9%81%D8%B1%D9%85%D9%87%D8%A7) اطمینان یابید.
در صورت مشاهده متن **غیرفعال** در کارت تنظیمات هر پلتفرم، دستگاه به بخش مشترکین اضافه نشده است. برای مثال اگر تنظیمات پوش‌نوتیفیکیشن وب را به درستی انجام داده باشید ولی دستگاه به بخش مشترکین اضافه نشده باشد بر روی کارت تنظیمات پوش‌نوتیفیکیشن وب متن غیرفعال را مشاهده خواهید کرد.

##### ۶- مراحل شروع (initialize) پروژه چابک را حتما پشت سر بگذارید

برای شروع کردن پروژه چابک لازم است یک نمونه از کلاس `chabokpush` بسازید و آن را مقداردهی نمایید. 

##### ۷- PWA اگر add to homescreen شده باشد در آی‌اواس پوش نمی‌گیرید

اگر اپلیکیشن شما PWA بوده و در دستگاه add to homescreen شده باشد، در اندروید پوش دریافت می‌کنید اما در آی‌اواس نه.


<Br>

## نوتیفیکیشن‌ها نمایش داده نمی‌شوند
---

یکی دیگر از مشکلات متداول عدم نمایش نوتیفیکیشن در دستگاه مخاطب است. در این قسمت به دلایل احتمالی این مشکل اشاره‌ خواهیم کرد.

##### ۱- وضعیت اتصال دستگاه به اینترنت را بررسی نمایید

شبکه اینترنتی که به آن وصل هستید ممکن است اتصال شما به سرورها را بسته باشد. در این حالت می‌توانید قطع و وصل کردن اینترنت خود را امتحان کنید.

##### ۲- مرورگر در حالت تمام صفحه (Full Screen) نباشد

در حالتی که مرورگر شما در حالت تمام صفحه (Full Screen) باشد، نوتیفیکیشن نمایش داده نخواهد شد.

##### ۳- نوتیفیکیشن‌ها روی مرورگر دستگاه شما بلاک نشده باشد

دقت داشته باشید که در تنظیمات مرورگر شما نوتیفیکیشن‌ها خاموش یا بلاک نشده باشند.

##### ۴- مرورگر از موارد زیر پشتیبانی نمی‌کند

- عدم پشتیبانی مرورگر از نمایش نوتیفیکیشن (NOT_SUPPORTED:SN (show notification 

- عدم پشتیبانی مرورگر از پوش منیجر (NOT_SUPPORTED:PM (push manager 

- عدم پشتیبانی مرورگر از سرویس ورکر (NOT_SUPPORTED:SW (service worker 

- عدم پشتیبانی مرورگر از نوتیفیکیشن (NOT_SUPPORTED:NOTIF (notification 

برای حل این مشکل توصیه می‌کنیم **مرورگر و نسخه آن** را حتما بررسی کنید.

<Br>
  
## تصویر نوتیفیکیشن نمایش داده نمی‌شود
---

#### پوش را با پنل ارسال کرده‌ام

دقت داشته باشید پس از انتخاب تصویر، دکمه **بارگذاری** را حتما بزنید و پیام موفقیت را مشاهده کنید.

<br>

#### پوش را با API ارسال کرده‌ام

در این حالت باید به پارامترهای `mediaType`و `mediaUrl` مقادیر درست دهید.


<br>

## موارد بالا را بررسی کردم اما همچنان مشکلم برطرف نشده
---

در صورتی هم که موارد این صفحه را بررسی کردید و همچنان مشکلتان **برطرف نشده بود**، می‌توانید از **پشتیبانی چابک** در [گیت‌هاب](https://github.com/chabok-io/chabok-client-js/issues) استفاده کنید. در آن جا `issue`های قبلی را مطالعه کنید و اگر مشکل شما بین آن‌ها نبود، می‌توانید یک `issue` جدید برای بررسی تیم فنی چابک باز نمایید.
