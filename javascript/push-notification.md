---
id: push-notification
title: پوش‌نوتیفیکیشن
layout: javascript
permalink: javascript/push-notification.html
prev: chabok-messaging.html
next: user-management.html
---

چابک علاوه بر پیام چابک، **پوش‌نوتیفیکیشن** هم ارسال می‌کند. توجه داشته باشید که از این پس منظور از واژه **اعلان** همان **نوتیفیکیشن** (Notification) است.

<Br>

> ‍‍‍‍‍‍‍‍`نکته:` مرورگر **Safari** روی آی‌او‌اس از پوش پشتیبانی نمی‌کند.

<Br>
 
ارسال پوش‌نوتیفیکیشن به دو صورت انجام می‌شود:


### Local Notification

اگر مقدار ‍`silent` را در تنظیمات اولیه `false‍` قرار دهید، در صورتی که اتصال کاربر با چابک **برقرار باشد** پیام‌های چابک در قالب **Local Notification** به کاربر نمایش داده می‌شود.

<Br>

> ‍‍‍‍‍‍‍‍`نکته:`  برای دریافت پوش‌نوتیفیکیشن در پس‌زمینه (Background) می‌بایست بخش [راه‌اندازی](/javascript/sdk-setup.html#افزودن-service-worker) را مطالعه نمایید.

### Background Notification

برای ارسال پوش‌نوتیفیکیشن در شرایطی که ارتباط کاربر با چابک **برقرار نشده باشد**، می‌بایست در تنظیمات اولیه در بخش ‍`webpush` مقدار `enabled` را `true` قرار دهید و `publicKey` را از بخش تنظیمات ارسال پوش‌نوتیفیکیشن وب در قسمت تنظیمات پنل چابک مقدار‌دهی کنید.
از این پس بعد از اولین اتصال به چابک، به صورت پیش‌فرض اجازه دسترسی دریافت پوش‌نوتیفیکیشن را از کاربر درخواست می‌کند. بعد از تایید، شما می‌توانید به راحتی به کاربر پوش‌نوتیفیکیشن ارسال کنید.

> `نکته` : اگر مرورگر شما بسته شده باشد، دریافت پوش‌نوتیفیکیشن امکان‌پذیر نیست.

> `نکته` : اگر مرورگر شما از **Service Worker** پشتیبانی نکند، دریافت پوش‌نوتیفیکیشن در حالت Background امکان‌پذیر نیست.


### آیکون پیش‌فرض وب پوش
 
منظور از آیکون پیش‌فرض وب پوش، عکس سمت چپ متن پیام شما است که در تصویر زیر مشاهده می‌کنید. 

![عکس مربوطه](http://uupload.ir/files/fxbi_webpush-icon.png)

<br>

این آیکون را می‌توانید از پنل←تنظیمات←پلتفرم‌ها←کارت Web←تنظیمات بگذارید. 

![عکس مربوطه](http://uupload.ir/files/7ep6_panel.png)

#### ویژگی‌های آیکون

- رنگ: رنگ‌های `RGB`

- ابعاد: `192x192` یا بزرگتر

- نوع فایل: `jpg`, `png`, `gif`, `webp`, `ico`, `cur`, `bmp`

`svg` یا `gif` **پشتیبانی نمی‌شود**

<br><br>

### تست ارسال پوش
---
##### ۱- آیا پوش‌نوتیفیکیشن‌ها با موفقیت دریافت می‌شوند؟
برای اطمینان از ارسال ودریافت موفق پوش کافیست بخش نوتیفیکیشن داشبورد را مشاهده کنید. در این نمودار آمار ارسال ناموفق پوش نوتیفیکیشن نیز موجود است که می‌توانید آن را زیر نظر داشته باشید.

> `نکته:` در صورت بروز مشکل در ارسال پوش بخش [عیب‌یابی](/javascript/troubleshoot.html#%D9%BE%D9%88%D8%B4-%D9%86%D9%85%DB%8C%DA%AF%DB%8C%D8%B1%D9%85) را مطالعه کنید.
 
<br>

![enter image description here](http://uupload.ir/files/x6nc_notification-test-in-dashboard.png)

<br>

##### ۲- آیا حذف‌ها به درستی شمرده می‌شوند؟

در صورتی که از پوش‌نوتیفیکیشن هم استفاده نمی‌کنید، بعد از حذف اپلیکیشن یک پوش به اپ کاربران ارسال کنید تا از شمارش حذف دستگاه کاربران اطمینان حاصل کنید. 

> `نکته:` حتما برای شمارش حذف و ریزش این مورد را بررسی کنید. همچنین دقت داشته باشید فرایند حذف اپلیکیشن مدت کوتاهی (حدود ۲۰ دقیقه) طول می‌کشد.

چابک به طور روزانه توکن‌های کاربران را چک می‌کند و اگر کاربری اپلیکیشن شما را حذف کند متوجه این موضوع خواهد شد و در حساب عملیاتی آمار حذف و ریزش بروزرسانی می‌شود.

<br>

![enter image description here](http://uupload.ir/files/gl_uninstall-test-in-dashboard.png)
