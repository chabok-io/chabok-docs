---
id: required
title: پیش‌نیازها
layout: ios
permalink: ios/required.html
prev: introducing.html
next: sdk-setup.html
---

در ابتدا اطمینان یابید که صفحه [معرفی](/ios/introducing.html) را برای آشنایی کامل با امکانات چابک با دقت مطالعه کرده باشید. برای بکارگیری چابک، شما نیاز به [ایجاد حساب کاربری](/ios/required.html#ایجاد-حساب-چابک)، [انجام تنظیمات اولیه پوش‌نوتیفیکیشن دستگاه](/ios/required.html#تنظیمات-اولیه-پوشنوتیفیکیشن) و [دریافت گواهی اپل](/ios/required.html#ایجاد-گواهی-اپل) دارید.

<Br>

### ایجاد حساب چابک

به طور کلی چابک دارای دو نوع حساب **آزمایشی (Sandbox)** و **عملیاتی (Production)** است. حساب‌ آزمایشی روی محیط سندباکس قرار گرفته است و دارای محدودیت [سقف کاربر](https://chabokpush.com/pricing.html) می‌باشد. بنابراین برای اپلیکیشن‌های تجاری و اپ‌استور توصیه می‌کنیم از حساب عملیاتی که این سقف را ندارد، استفاده کنید.

برای ایجاد حساب کاربری کافیست در وبسایت چابک وارد صفحه [شروع کنید](https://chabokpush.com/register.html) شوید و حساب شخصی خود را بسازید. پس از ایجاد حساب، با مراجعه به [بخش تنظیمات پنل](https://doc.chabok.io/panel/settings.html#%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C%D9%87%D8%A7-%D9%88-%D8%AA%D9%88%DA%A9%D9%86%D9%87%D8%A7) پارامترهای اتصال به چابک که در بخش **راه‌اندازی** چابک مورد نیاز است، در دسترس خواهد بود. 

> `نکته:` در صورتی که تمایل دارید حساب خود را از **آزمایشی** به **عملیاتی** ارتقا دهید، باید با توجه به جدا بودن داده‌های هر حساب، از اپ خود با **تنظیمات جدید** چابک بیلد بگیرید و نسخه جدید منتشر کنید. برای درخواست حساب عملیاتی به پنل بخش [تنظیمات](https://sandbox.push.adpdigital.com/front/setting/accountRequest) مراجعه نمایید.

<Br>

### تنظیمات اولیه پوش‌نوتیفیکیشن

ابتدا مطمئن شوید که `MobileCoreServices.framework` ،`SystemConfiguration.framework` و `CoreData` را از **Linked Frameworks and Libraries** وارد کرده‌اید.

گزینه `Push Notifications` را در `Setting > Capabilities` فعال کنید،

و علامت `Remote Notifications`ها را در `Setting > Capabilities > Background Modes` بررسی کنید.

<Br>

### ایجاد گواهی اپل

برای ارسال پوش‌نوتیفیکیشن به اپلیکیشن‌های iOS شما نیاز به **ایجاد گواهی (certificate)** در APNs دارید. این گواهی را شما می‌توانید با **یکی از دو روش [p8](/ios/required.html#روش-p8) و [PEM](/ios/pem-certificate.html)** ایجاد کنید. با توجه به این که **p8** روش جدیدتر اپل برای این کار است و به مراتب کوتاه‌تر و ساده‌تر می‌باشد و همینطور برخی مشکلات روش **PEM** مانند **تطابق کلید ایجاد شده با provisioning profile** و **منقضی شدن کلیدها** را ندارد، توصیه می‌کنیم از همین روش استفاده نمایید.

>`نکته` : توجه داشته باشید هنگامی که **گواهی sandbox اپل** را در پنل تستی قرار می‌دهید، فقط امکان دریافت `Push Notification` در حالت `debug` وجود خواهد داشت. اما اگر **گواهی production اپل** را در محیط عملیاتی قرار دهید، زمانی `Push Notification` را دریافت خواهید کرد که اقدام به ساخت **ipa** از پروژه خود کرده و از طریق **TestFlight** یا **Enterprise** اپلیکیشن خود را نصب کنید.


#### روش p8

روش p8 را می‌توانید با انجام مراحل زیر اجرا کنید:

> `نکته:` دقت داشته باشید که پس از دریافت کلیدها توسط این روش، حتما آن‌ها را در جای مطمئن نگه‌ دارید و همینطور از آن‌ها Backup بگیرید زیرا این کلید‌ها فقط و فقط یکبار ارائه می‌شوند و قابل بازیابی نمی‌باشند. 

##### مرحله اول: ایجاد APNs Auth Key 

در ابتدا صفحه APNs Auth Key را در Developer Center خود باز کنید و با کلیک روی + یک APNs Auth Key  جدید بسازید.

درصفحه بعد گزینه `(Apple Push Notification Authentication Key (Sandbox & Production` را انتخاب نمایید و در پایین صفحه continue را بزنید.

<Br>

![عکس مربوطه](http://uupload.ir/files/f28b_certificate1.png)

##### مرحله دوم: دریافت و ذخیره APNs Auth Key 

پس از آن اپل فایل p8. که حاوی گواهی‌های APNs شماست را ایجاد می‌کند.

<Br>

![عکس مربوطه](http://uupload.ir/files/2lfd_certificate2.png)

فایل p8. را در دستگاه خود دانلود و ذخیره کنید. 


در پایان کافیست به بخش تنظیمات پنل چابک بروید و ۴ شناسه زیر را در تنظیمات ارسال نوتیفیکیشن سرور اپل در کارت آی‌اواس قرار دهید:

۱- Bundle Id اپلیکیشنتان 

۲- Team ID ([مخصوص حساب Apple Developer خودتان](https://developer.apple.com/account/#/membership/)) 

۳- Key ID فایل p8.

۴- فایل p8. که دانلود کردید

<Br>

![عکس مربوطه](http://uupload.ir/files/89cz_ios-push-settings.png)

<Br>

#### روش PEM

برای استفاده از روش PEM می‌توانید [این قسمت](/ios/pem-certificate.html) را مطالعه نمایید.
