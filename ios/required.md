---
id: required
title: پیش‌نیازها
layout: ios
permalink: ios/required.html
prev: introducing.html
next: sdk-setup.html
---

در ابتدا اطمینان یابید که صفحه [معرفی](/ios/introducing.html) را برای آشنایی کامل با امکانات چابک با دقت مطالعه کرده باشید. برای بکارگیری چابک، شما نیاز به [انجام تنظیمات اولیه پوش‌نوتیفیکیشن دستگاه](/ios/required.html#تنظیمات-اولیه-پوشنوتیفیکیشن) و [دریافت گواهی اپل](/ios/required.html#ایجاد-گواهی-اپل) دارید.

<Br>


### تفاوت حساب‌های آزمایشی و عملیاتی (سندباکس و پروداکشن)

چابک برای هر مشتری **دو نوع حساب جداگانه** ایجاد می‌کند. اولی، حساب سندباکس نام دارد که در واقع یک محیط **آزمایشی** و کاملا جداگانه‌ای است تا شما بتوانید روی آن **تست‌ها و پیاده‌سازی‌های** خود را بدون نگرانی انجام دهید. این حساب همیشه با پیشوند sandbox در لینکش  شروع می‌شود.

دومی، حساب پروداکشن نام دارد که در واقع محیط عملیاتی برای شروع کار به صورت رسمی و حرفه‌ای **زمان انتشار اپلیکیشن** است. 

>`نکته:` حتما دقت داشته باشید که حساب‌های سندباکس و پروداکشن کاملا جدا هستند و **داده‌های هر کدام قابل انتقال به دیگری نیستند.** برای همین توصیه می‌کنیم برای انتشار اپلیکیشن از حساب عملیاتی استفاده کنید و حساب سندباکس را فقط با نگاه تستی ببینید.

<Br>

### تنظیمات اولیه پوش‌نوتیفیکیشن

ابتدا مطمئن شوید که `MobileCoreServices.framework` ،`SystemConfiguration.framework` و `CoreData` را از **Linked Frameworks and Libraries** وارد کرده‌اید.

گزینه `Push Notifications` را در `Setting > Capabilities` فعال کنید،

و علامت `Remote Notifications`ها را در `Setting > Capabilities > Background Modes` بررسی کنید.

<Br>

### ایجاد گواهی اپل

برای ارسال پوش‌نوتیفیکیشن به اپلیکیشن‌های iOS شما نیاز به **ایجاد گواهی (certificate)** در APNs دارید. این گواهی را شما می‌توانید با **یکی از دو روش [p8](/ios/required.html#روش-p8) و [PEM](/ios/pem-certificate.html)** ایجاد کنید. با توجه به این که **p8** روش جدیدتر اپل برای این کار است و به مراتب کوتاه‌تر و ساده‌تر می‌باشد و همینطور برخی مشکلات روش **PEM** مانند **تطابق کلید ایجاد شده با provisioning profile** و **منقضی شدن کلیدها** را ندارد، توصیه می‌کنیم از همین روش استفاده نمایید.

>`نکته` : توجه داشته باشید هنگامی که **گواهی sandbox اپل** را در پنل تستی قرار می‌دهید، فقط امکان دریافت `Push Notification` در حالت `debug` وجود خواهد داشت. اما اگر **گواهی production اپل** را در محیط عملیاتی قرار دهید، زمانی `Push Notification` را دریافت خواهید کرد که اقدام به ساخت **ipa** از پروژه خود کرده و از طریق **TestFlight** یا **Enterprise** اپلیکیشن خود را نصب کنید.


#### روش p8

روش p8 را می‌توانید با انجام مراحل زیر اجرا کنید:

> `نکته:` دقت داشته باشید که پس از دریافت کلیدها توسط این روش، حتما آن‌ها را در جای مطمئن نگه‌ دارید و همینطور از آن‌ها Backup بگیرید زیرا این کلید‌ها فقط و فقط یکبار ارائه می‌شوند و قابل بازیابی نمی‌باشند. 

##### مرحله اول: ایجاد APNs Auth Key 

در ابتدا صفحه APNs Auth Key را در Developer Center خود باز کنید و با کلیک روی + یک APNs Auth Key  جدید بسازید.

درصفحه بعد گزینه `(Apple Push Notification Authentication Key (Sandbox & Production` را انتخاب نمایید و در پایین صفحه continue را بزنید.

<Br>

![عکس مربوطه](http://uupload.ir/files/f28b_certificate1.png)

##### مرحله دوم: دریافت و ذخیره APNs Auth Key 

پس از آن اپل فایل p8. که حاوی گواهی‌های APNs شماست را ایجاد می‌کند.

<Br>

![عکس مربوطه](http://uupload.ir/files/2lfd_certificate2.png)

فایل p8. را در دستگاه خود دانلود و ذخیره کنید. 


در پایان کافیست به بخش پیاده‌سازی> راه‌اندازی> پلتفرم‌های پنل چابک بروید و ۴ شناسه زیر را در تنظیمات ارسال نوتیفیکیشن سرور اپل در کارت آی‌اواس قرار دهید:

۱- Bundle Id اپلیکیشنتان 

۲- Team ID ([مخصوص حساب Apple Developer خودتان](https://developer.apple.com/account/#/membership/)) 

۳- Key ID فایل p8.

۴- فایل p8. که دانلود کردید

<Br>

![عکس مربوطه](http://uupload.ir/files/6swh_ios-setup-keys.png)

<Br>

#### روش PEM

برای استفاده از روش PEM می‌توانید [این قسمت](/ios/pem-certificate.html) را مطالعه نمایید.
